/*! starter-project - v1.0.0 - 2014-07-15 */
!function($){$(document).on("ready",function(){page=new Page}),Page=function(){$("input, textarea").placeholder()},CollapsibleMenu=function(wrap){wrap.after('<span class="expand-btn" data-toggle-menu="'+wrap.selector+'"><i class="sprite expand-menu"></i></span>'),$(document).on("click","[data-toggle-menu]",$.proxy(CollapsibleMenu.prototype.toggle,this))},CollapsibleMenu.prototype.toggle=function(e){$($(e.currentTarget).attr("data-toggle-menu")).toggleClass("open")},EqualHeightGroups=function(wrap,opts){if(this.opts=$.extend({},BannerSlideshow.defaults,opts||{}),this.wrap=wrap||$("body"),this.wrap.find("[data-height-group]").length){var groups={};this.wrap.find("[data-height-group]").each(function(){var groupId=$(this).attr("data-height-group");groups.hasOwnProperty(groupId)||(groups[groupId]=$('[data-height-group="'+groupId+'"]'))}),this.groups=groups,$(window).on("load resize",$.proxy(this.onResize,this)),this.onResize()}},EqualHeightGroups.defaults={},EqualHeightGroups.prototype.processGroup=function(groupId){var group=this.groups[groupId].height("auto"),lines={};group.each(function(i,el){var cPos=$(el).offset().top+"";lines.hasOwnProperty(cPos)||(lines[cPos]=[]),lines[cPos].push(el)});for(var p in lines){var line=$(lines[p]).map(function(){return $(this).toArray()}),maxHeight=Math.max.apply(null,line.map(function(){return $(this).outerHeight()}).get());line.height(maxHeight)}},EqualHeightGroups.prototype.onResize=function(){if(1==this.throttleResize)return void this.resizeAttempts++;for(var p in this.groups)this.processGroup(p);this.throttleResize=!0,this.resizeAttempts=0,clearTimeout(this.resizeTimeout||null),setTimeout($.proxy(function(){this.throttleResize=!1,this.resizeAttempts>0&&this.onResize()},this),500)},BannerSlideshow=function(opts){this.opts=$.extend(!0,{},BannerSlideshow.defaults,opts),this.wrap=opts.wrap,this.wrap&&this.wrap.length&&(this.images=this.wrap.find(this.opts.selectors.images).eq(0),this.content=this.wrap.find(this.opts.selectors.content).eq(0),this.num=0,this.count=0,this.playing=!1,this.timeoutId=null,this.pagination=null,this.nextLink=null,this.prevLink=null,this.opts.wrap&&this.opts.wrap.length&&this.init())},BannerSlideshow.defaults={loop:!0,wrap:null,interval:6e3,fade:800,play:!0,pauseAfterClick:!0,pagination:!0,nextPrev:!1,fixedHeight:!0,centerContent:!0,centerContentThreshold:768,contentOffset:0,selectors:{images:".slide-images .slides",content:".slide-content .slides",pagination:"",nextPrev:""},slides:[]},BannerSlideshow.prototype.init=function(){for(var image=this.images.find(".slide").eq(0).attr("data-num",0).addClass("active"),content=this.content.find(".slide").eq(0).attr("data-num",0).addClass("active"),imagesHtml=this.images.html(),contentHtml=this.content.html(),i=0;i<this.opts.slides.length;i++){var slide=this.opts.slides[i];if(this.images.length){var $image=image.clone();$image.find("img").attr("src",slide.image),delete slide.image;for(var p in slide)$image.find("."+p).html(slide[p]);imagesHtml+='<div class="slide" data-num="'+(i+1)+'">'+$image.html()+"</div>"}if(this.content.length){var $content=content.clone();for(var p in slide)""!=slide[p]?$content.find("."+p).html(slide[p]):$content.find("."+p).remove();contentHtml+='<div class="slide" data-num="'+(i+1)+'">'+$content.html()+"</div>"}}this.images.length&&(this.images.html(imagesHtml),this.count=this.images.find(".slide").length),this.content.length&&this.content.html(contentHtml),this.opts.play&&this.play(),this.opts.pagination&&this.buildPagination(),this.opts.nextPrev&&this.buildNextPrev(),this.wrap.on("slideshow.change",$.proxy(this.onChange,this)),this.onChange(null,this.num),$(window).on("load",$.proxy(this.onResize,this)),this.wrap.imagesLoaded($.proxy(this.onResize,this)),this.onResize(),$(window).on("resize",$.proxy(this.onResize,this)),this.wrap.on("click",".slide",$.proxy(function(e){return $(e.target).is("a")||$(e.target).parents("a").length?void 0:(this.opts.pauseAfterClick&&this.pause(),this.next(),!1)},this))},BannerSlideshow.prototype.play=function(){this.playing||(this.playing=!0,this.timeoutId=setTimeout($.proxy(this.next,this),this.opts.interval))},BannerSlideshow.prototype.pause=function(){this.playing&&(this.playing=!1,clearTimeout(this.timeoutId||null),this.timeoutId=null)},BannerSlideshow.prototype.goto=function(num){num!==this.num&&(this.gotoContent(num),this.gotoImage(num),this.num=num,clearTimeout(this.timeoutId||null),this.wrap.trigger("slideshow.change",[this.num,this]),this.playing&&(this.timeoutId=setTimeout($.proxy(this.next,this),this.opts.interval)))},BannerSlideshow.prototype.next=function(){this.goto(this.num>=this.count-1?this.opts.loop?0:this.num:this.num+1)},BannerSlideshow.prototype.prev=function(){this.goto(this.num<=0?this.opts.loop?this.count-1:this.num:this.num-1)},BannerSlideshow.prototype.gotoContent=function(num){this.content.length&&(this.content.find(".slide.active").css({visibility:"visible"}).animate({opacity:0},{duration:this.opts.fade||0,queue:!1}),clearTimeout(this.fadeTimeout||null),this.fadeTimeout=setTimeout($.proxy(function(){this.content.find(".slide.active").removeClass("active"),this.content.find('.slide[data-num="'+num+'"]').appendTo(this.content).addClass("active").css({visibility:"visible",opacity:0}).animate({opacity:1},{duration:this.opts.fade||0,queue:!1})},this),Math.max(Math.round(this.opts.fade/2),0)))},BannerSlideshow.prototype.gotoImage=function(num){this.images.length&&(this.images.find(".slide.active").removeClass("active").css({visibility:"visible",opacity:1}),this.images.find('.slide[data-num="'+num+'"]').appendTo(this.images).addClass("active").css({visibility:"visible",opacity:0}).animate({opacity:1},{duration:this.opts.fade||0,queue:!1}))},BannerSlideshow.prototype.buildPagination=function(){if(this.opts.pagination&&null==this.pagination){for(var html='<nav class="pagination"><div class="wrap"><ul>',i=0;i<this.count;i++)html+='<li data-num="'+i+'"><span>'+(i+1)+"</span></li>";html+="</ul></div></nav>",this.opts.selectors.pagination?this.wrap.find(this.opts.selectors.pagination).append(html):this.wrap.append(html),this.pagination=this.wrap.find(".pagination"),this.wrap.on("click",".pagination span",$.proxy(function(e){this.opts.pauseAfterClick&&this.pause(),this.goto($(e.target).parents("[data-num]:eq(0)").attr("data-num")||0)},this))}},BannerSlideshow.prototype.buildNextPrev=function(){if(this.opts.nextPrev&&(null==this.nextLink||null==this.prevLink)){var html='<a href="javascript:void(\'Next Slide\')" class="next-slide"><span>Next</span></a><a href="javascript:void(\'Previous Slide\')" class="prev-slide"><span>Prev</span></a>';this.opts.selectors.nextPrev?this.wrap.find(this.opts.selectors.nextPrev).append(html):this.wrap.append(html),this.nextLink=this.wrap.find(".next-slide"),this.prevLink=this.wrap.find(".prev-slide"),this.wrap.on("click",".next-slide",$.proxy(function(){return this.opts.pauseAfterClick&&this.pause(),this.next(),!1},this)),this.wrap.on("click",".prev-slide",$.proxy(function(){return this.opts.pauseAfterClick&&this.pause(),this.prev(),!1},this))}},BannerSlideshow.prototype.onChange=function(evt,num){this.opts.nextPrev&&!this.opts.loop&&(num<this.count-1?this.nextLink.removeClass("disabled"):this.nextLink.addClass("disabled"),num>0?this.prevLink.removeClass("disabled"):this.prevLink.addClass("disabled")),this.opts.pagination&&this.pagination.find("[data-num]").removeClass("on").filter('[data-num="'+num+'"]').addClass("on")},BannerSlideshow.prototype.fixHeight=function(){var centerContent=this.opts.centerContent,contentOffset=this.opts.contentOffset,fixedHeight=this.opts.fixedHeight,contentWrap=this.content.css("margin-top",0).height("auto"),slides=contentWrap.find(".slide").css("margin-top",0).height("auto"),wrapHeight=this.wrap.height(),heights=[];if(contentWrap.length){var contentHeight=0;slides.each($.proxy(function(i,el){var h=heights[i]=$(el).outerHeight();h>contentHeight&&(contentHeight=h),centerContent&&!fixedHeight&&this.viewportWidth>=this.opts.centerContentThreshold&&$(el).css("margin-top",Math.max(Math.round((wrapHeight-h)/2)+contentOffset,0))},this)),fixedHeight&&(contentWrap.height(contentHeight),centerContent&&(this.viewportWidth>=this.opts.centerContentThreshold&&contentWrap.css("margin-top",Math.max(Math.round((wrapHeight-contentHeight)/2)+contentOffset,0)),slides.each(function(i,el){$(el).css("margin-top",Math.max(Math.round((contentHeight-heights[i])/2),0))})))}if(this.images.length){var imageHeight=0;this.images.find(".slide").each(function(){var h=$(this).outerHeight();h>imageHeight&&(imageHeight=h)}),this.opts.fixedHeight&&this.images.height(imageHeight)}},BannerSlideshow.prototype.onResize=function(){return 1==this.throttleResize?void this.resizeAttempts++:(this.viewportWidth=$(window).width()+$.scrollbarWidth(),this.fixHeight(),this.throttleResize=!0,this.resizeAttempts=0,clearTimeout(this.resizeTimeout||null),void setTimeout($.proxy(function(){this.throttleResize=!1,this.resizeAttempts>0&&this.onResize()},this),500))}}(jQuery);
//# sourceMappingURL=core.min.map